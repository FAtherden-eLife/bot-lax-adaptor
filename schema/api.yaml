swagger: "2.0"

info:
  version: 1.0.0
  title: bot-lax-adaptor api
  description: a web interface to interacting with lax via the bot-lax-adaptor

schemes:
  - https

#host: lax.elifesciences.org:8080
basePath: /
paths:
  /xml:
    get:
      responses:
        200:
          description: a list of all article xml files that have been uploaded
    post:
      description: upload an xml file, generate article-json from it, validate article-json
      consumes:
        - multipart/form-data
      parameters:
        - in: formData
          name: xml
          type: file
          description: the xml file to upload          
      responses:
        200:
          description: xml, article-json and validation all completed successfully

  /ajson:
    get:
      responses:
        200:
          description: a list of all article json files that have been generated from uploaded xml

  /ajson/generate/{filename}:
    post:
      description: generate article-json from an uploaded xml file
      parameters:
        - name: filename
          in: path
          type: string
          required: true
          description: name of remote xml file
      responses:
        200:
          description: the remote name of the generated article-json file

  /ajson/validate/{filename}:
    post:
      description: validate generated article-json
      parameters:
        - name: filename
          in: path
          type: string
          required: true
          description: name of remote article-json file
      responses:
        200:
          description: success or failure details of the validation attempt
